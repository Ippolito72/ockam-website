---
title: 'The Razor: ep 4'
date: '2023-12-28'
description: Secondary markets for compromised access, Portals, and (bad) festive poetry
author: 'Glenn'
authorAvatar: /blog/glenn-gillen.jpg
---

{/* <!-- vale off --> */}

Twas a few nights after Christmas, and across all your apps,<br/>
Were offers for discounts, and sales, and end of year wraps.<br/>
The last edition of The Razor also flew through the air,<br/>
In the hopes 2024 might be the year we stop ransomware<br/>

The CISOs were buried deep in compliance reports,<br/>
While Ockam released [something to share ports](https://github.com/build-trust/ockam/blob/develop/examples/app/portals/README.md).<br/>
And I hit send on largest list of links for the year,<br/>
which I'm happy to say starts right&hellip; here.


## Secure-by-design

* **ü™© Attracting attention with new TLS certs:** When you request a new TLS certificate from a provider such as Let's Encrypt, the fact a certificate was issued shows up in their certificate transparency logs. [Chris Siebenmann decided to time how long it took](https://utcc.utoronto.ca/~cks/space/blog/web/WebProbeSpeedNewTLSCertificate) between requesting a new certificate and someone using that information to try and port scan his machine for vulnerabilities. Spoiler: it's less than a minute.
* **ü§ù On trust:** A [short essay from Mark Seeman](https://blog.ploeh.dk/2023/03/20/on-trust-in-software-development/) that touches on an idea that I've seen embodied the way various high availability, large scale, and high trust systems are designed. Not trusting something doesn't require you to have distrust/mistrust, cynicism, or misgivings. It can be as simple as accepting human fallibility, and being supportive of each others humanity rather than expecting everyone to be superhuman all of the time.
* **üôÖ‚Äç‚ôÇÔ∏è On losing trust:** What happens when people just don't believe what you say? Simon Willison explores that in [discussing the reaction to Dropbox launching some AI features](https://simonwillison.net/2023/Dec/14/ai-trust-crisis/). This is as much a result of Dropbox not being particularly clear with what data was being shared and when, but also people just not believing OpenAI (who Dropbox are selectively sharing the data with) when they say it's not being used to train their own models.
* **üíµ A secondary market for compromised access:** If you're a criminal that has a specific target in mind, the first step in getting access to the data is getting access to their systems somehow. In what should probably be absolutely no surprise it turns that for every problem there is a market-based solution. Just go find an [Initial Access Broker](https://www.cisecurity.org/insights/blog/initial-access-brokers-how-theyre-changing-cybercrime) who has already compromised your target and is willing to on-sell the access to you.
* **üï∑Ô∏è Scattered spider and exploiting SaaS integrations:** The team at Permiso do [a teardown on an attack called LUCR-3](https://permiso.io/blog/lucr-3-scattered-spider-getting-saas-y-in-the-cloud). It's especially interesting given the way it's designed to use the victim's own SCCM and deployment tooling to spread across the victim's infrastructure. Ultimately it does everything possible to look like a human doing normal things and leveraging systems in normal ways to establish an organisation-wide foothold. The "Attacker Lifecycle" diagram is also useful for considering in all contexts and the various threat vectors to consider when considering the security of your systems.
* **üîç When linting detects false assumptions:** If you're using ECMAScript (i.e., JavasScript) then [this post about the `no-constant-binary-expression` rule](https://eslint.org/blog/2022/07/interesting-bugs-caught-by-no-constant-binary-expression/), from Jordan Eldredge, is definitely worth a read. That rule is intended to catch where short-circuit logic in an expression won't change at runtime. The result wasn't just clearer code though, it uncovered a lot of real world situations where developers had confused operator precedence in expressions or where object/value comparisons were not what the developer expected.
* **üì± How to completely pwn an iPhone:** Through the crafty stacking of a number of vulnerabilities, [Boris Larin discusses how an attacker could take complete control of an iPhone](https://securelist.com/operation-triangulation-the-last-hardware-mystery/111669/). An iMessage attachment that contains a PDF with a TrueType font exploit, which then patches the JavaScript Core environment to execute a privilege escalation. Most impressive of all is it does not require the recipient to open or even acknowledge the attachment, and circumvents the hardware-based security protection on iPhones. Ars Technica also have [coverage that states this exploit has been in use for over four years](https://arstechnica.com/security/2023/12/exploit-used-in-mass-iphone-infection-campaign-targeted-secret-hardware-feature/)!
* **üö´ These things are not equal:** What is a parser mismatch vulnerability? [Tim McCormack has the answer for you](https://www.brainonfire.net/blog/2022/04/11/what-is-parser-mismatch/). The broad definition is: when two code paths parse the same thing but disagree in what some inputs mean. His examples highlight scenarios I've seen a lot where some validation logic will do a light parse, but later in the code the full value is consumed. The gotchas start to appear when this gets exploited with malformed inputs.
* **üõü Are we looking for more than memory safety?** We're big [Rust fans at Ockam](), so it's always great to read someone else's take on why Rust is valuable for building systems that are secure by design. When that someone is Steve Klabnik it's worth paying extra attention. I liked his threads about how maybe it's [not so much about memory safety, and more about having defined behaviour by default](https://steveklabnik.com/writing/memory-safety-is-a-red-herring).
* **‚è±Ô∏è A 25 year old timing attack comes back:** Many years ago a timing attack was discovered that allowed RSA decryption and signing operations where the attacker need only observe the time of the decryption operation performed with the private key. Hubert Kario is here to tell us all [that not only can it still happen but that implementations previously thought immune are actually vulnerable, and that the core issues are applicable to most asymmetric cryptographic algorithms](https://people.redhat.com/~hkario/marvin/) (e.g., Diffe-Hellman). He's also got a list of implementations they've tested to confirm/invalidate whether they're vulnerable. Thankfully for TLS-specific use cases the easiest remediation is to not support RSA cipher suites, though that may be a problem if the server needs to support older clients.
* **üîë 5,000 leaked GCP keys in a single repo:** The fine folks over at Truffle Security Co posted an update to a previous story that had made the observation that they'd uncovered far more leaked GCP keys than any other provider. Some further digging uncovered that [5K of those keys were in a single repository](https://trufflesecurity.com/blog/why-did-1-github-repo-leak-5000-live-gcp-keys/). There's some further analysis on what that repo was trying to achieve (probably crypto mining) and speculation on why it was done this way and by whom. I'm still baffled as to why you'd launch an attack like this so blatantly out in the open though.
* **üîê An intuition for cryptography:** If you've ever struggled to wrap your head around the fundamentals of how cryptography works and how it keeps our information private then [Azeem Bande-Ali has a great high-level explanation](https://azeemba.com/posts/intuition-for-cryptography.html). Or if you already know, this is probably the most easily digestible form to send your relatives over the holidays who ask you these questions!
* **üëã Encrypted Hello:** Whenever you connect to a website secured using TLS, the site name is transmitted in plaintext as part of the initial request. [Mozilla has a implemented a feature called Encrypted Client Hello](https://blog.mozilla.org/en/products/firefox/encrypted-hello/) (in collaboration with other browser vendors and companies like Cloudflare) which fixes that. Now your ISP or anyone monitoring the network won't know the sites you're visiting. This isn't an immediately ubiquitous thing though as both clients and servers need to support it (Cloudflare has already rolled out support).
* **üò≠ Dependency patch updates won't fix security:** A lot of people I know have automated PR creation for dependency updated built into the CI/CD systems. Moderne is a system that helps with such things, and the team there [looked at the data across a set of Java-based GitHub repos](https://www.moderne.io/blog/security-dependency-updates-unmasked). The result: only 30% of security issues are addressed in patch versions. The majority are in major and minor versions, which means you're also potentially bringing in breaking changes too. Nobody said this stuff was easy.
* **üôÉ APAC firms targeted in SQL-injection attack:** I don't know why this has a region specific focus, but there's a group [exploiting pretty basic techniques around SQL-injection and CMS vulnerabilities](https://thehackernews.com/2023/12/new-hacker-group-gambleforce-tageting.html) to get access to systems. There's 24 knowns targets already, where 6 were successfully compromised.
* **üïµÔ∏è You're not paranoid if they're actually watching you:** Push notifications on both of the major phone platforms go through a central authority. The information in that payload includes a bunch of metadata about the sender and recipient, and in some cases may include unencrypted content such as the message displayed in the notification. With such juicy information just out there waiting to be read, of [course governments have been monitoring it](https://www.404media.co/us-government-warrant-monitoring-push-notifications-apple-google-yahoo/).
* **üîÉ How do you rotate keys?** Have you got an API key you need to rotate? How do you do it? The answer is: there's no single answer! Thankfully the team at Truffle Security are at least helping by having [a single place to find the answer](https://howtorotate.com/docs/introduction/getting-started/). We think there might be [a better way than having to manage a bunch of keys üòâ](https://docs.ockam.io/).

## Exposed

* **üå± MongoDB corporate/support systems infiltrated:** Another case of [a phishing attack granting access to internal systems](https://www.mongodb.com/blog/post/mongodb-security-incident-update-december-20-2023). Their investigation suggests no evidence of access to any customer data.
* **üìµ Comcast Xfinity affects 35M people:** A Citrix vulnerablity has [leaked the names, contact information, partial SSNs, and birth dates of 35M people](https://www.theverge.com/2023/12/18/24007082/xfinity-data-breach-hack-notice-citrix).
* **üö® More than 10K Cisco devices being actively exploited:** Cisco reported a 0-day, a day later the security research firm VulnCheck stated that [tens of thousands of internet-facing devices had already been compromised](https://arstechnica.com/security/2023/10/actively-exploited-cisco-0-day-with-maximum-10-severity-gives-full-network-control/).
* **üëØ‚Äç‚ôÄÔ∏è Deep-faked social engineering:** This one goes back a few months but I only just caught it, and thought it worth sharing if only because Retool claim the attacked [deep faked the voice of someone from their IT department](https://retool.com/blog/mfa-isnt-mfa) as part of the attack.
* **ü§ó +1500 HuggingFace tokens exposed:** Because supply chain risks exist everywhere and AI/LLMs are no different... too many people are [repeating the same mistakes and exposing their training systems unintentionally](https://www.lasso.security/blog/1500-huggingface-api-tokens-were-exposed-leaving-millions-of-meta-llama-bloom-and-pythia-users-for-supply-chain-attacks).
* **ü¶∑ 7M dental patient records leaked:** The MOVEit breach continues to have more victims, this time [Delta Dental of California](https://www.bleepingcomputer.com/news/security/delta-dental-of-california-data-breach-exposed-info-of-7-million-people/).
* **üö∞ Western Pennsylvania water utility attacked:** An Iranian-linked group [attacked the PLCs in a number of US locations](https://www.bleepingcomputer.com/news/security/delta-dental-of-california-data-breach-exposed-info-of-7-million-people/) around the Thanksgiving holiday.
* **üßë‚Äç‚öñÔ∏è State Farm has 400M problems:** There's potential of a [class-action lawsuit due to attackers accessing 400M records in a breach of State Farm back in August](https://www.classaction.org/news/400m-records-stolen-in-2023-state-farm-data-breach-class-action-lawsuit-says). I'm curious about what constitutes a "record" in these situation though, as that's more than the entire population of the USA. 
* **üôà UniFi had a different kind of exposure:** A misconfiguration meant that [UniFi started sending private camera feeds to the wrong users](https://arstechnica.com/security/2023/12/unifi-devices-broadcasted-private-video-to-other-users-accounts/). 
* **üß¨ 7millionAndMe:** initially 23andMe had stated about 14,000 people's data had been accessed in a breach this month, with a qualificaiton/asterisk on that number that the accessed accounts also contained information on the ancestry details of other people. Turns out [other people means 6.9M in total were affected](https://techcrunch.com/2023/12/04/23andme-confirms-hackers-stole-ancestry-data-on-6-9-million-users/).
* **üí≥ Payment processor in ransomware attack:** Tipalti is a technology provider to companies such as Roblox, Twitch, and Canva. They were [hit by a ransomware attack](https://www.bleepingcomputer.com/news/security/tipalti-investigates-claims-of-data-stolen-in-ransomware-attack/) though it seems there's not been any customer impact.
* **üÜï NewRelic social engineered:** Another one for the [humans are the weak link](https://www.securityweek.com/new-relic-says-hackers-accessed-internal-environment-using-stolen-credentials/) category. Internal systems accessed again.
* **üè¶ 60 (SIX ZERO!) Credit Unions have outage:** The National Credit Union Administration said that [60 credit unions were out of action due to a ransomware attack on a vendor they use: Trellance/Ongoing Operations](https://edition.cnn.com/2023/12/01/politics/ransomware-attack-credit-unions/index.html).

## DX

* **üî´ [AWS Kill Switch](https://github.com/secengjeff/awskillswitch):** a Lambda function that an organization can implement in a dedicated "Security" account to give their security engineers the ability to quickly deploy restrictions during a security incident.
* **üì∏ [Screenshot to code](https://github.com/abi/screenshot-to-code):** A simple app that converts a screenshot to code. It uses GPT-4 Vision to generate the code and DALL-E 3 to generate similar-looking images.
* **ü´§ [Confusing git terminology](https://jvns.ca/blog/2023/11/01/confusing-git-terminology/):** Julia Evans was taking requests to explain/clarify some of the idiosyncrasies of git. Things like the difference between `HEAD` and "heads".
* **üê§ [Building Angry Birds using AI](https://twitter.com/javilopen/status/1719363262179938401):** a really cool example of using GPT-4 + Dalle/Midjourney to make a game. 
* **üëª [Ghostty - a new terminal emulator](https://mitchellh.com/writing/ghostty-devlog-005):** From Mitchell Hashimoto (of HashiCorp fame) comes a new terminal for MacOS.
* **üßë‚Äçüíª [Monaspace](https://monaspace.githubnext.com):** a superfamily of fonts for code. I've been using it for a couple of months and love it.
* **üí™ [gittuf](https://gittuf.dev/):** a security layer for git that allows you to set permissions for repository branches, tags, files, etc. and handles key management for all developers on a repo.
* **üßë‚Äçüî¨ [DevEx: What Actually Drives Productivity](https://queue.acm.org/detail.cfm?id=3595878):** some frameworks for actually understanding what this whole section in the newsletter is about!

## Product spotlight

* **[üü† Portals for Mac, by Ockam üîµ](https://github.com/build-trust/ockam/blob/develop/examples/app/portals/README.md)** - The last couple of editions I've asked for testers for something we'd been playing with internally. Well, it's publicly available now and I'd love if you'd [check it out](https://github.com/build-trust/ockam/blob/develop/examples/app/portals/README.md). If you've ever needed to quickly and privately share a service on your local machine with a friend or teammate&hellip; this is what you need. The [README in the repo](https://github.com/build-trust/ockam/blob/develop/examples/app/portals/README.md) also does a deep dive on how the team built this using the various Ockam libraries we've open sourced. There's also a look at how we integrated our Rust libraries into Swift.

## The odd bits

* **üë©‚Äç‚ù§Ô∏è‚Äçüë® A tale as old as (cryptography) time:** Have you ever wondered why so many explanations of cryptographic concepts explains them with Alice and Bob as the protagonists? Of course you have! It's ok, [I've got you](http://cryptocouple.com/).

That's it for the year! Thank you to all of our wonderful subscribers for your support. If you know anybody who you think would enjoy this content it'd meant the world if you could share the love and suggest they subscribe too. I promise it'll be another 12 months before you have to endure any more of my attempts at festive poetry üòâ.

Cheers,